<script src="eon-x-eonify.js"></script>
<script>
window.xEonify.eon({anitem, time:undefined})

// .................. anitem
async function anitem (__mapper) {
  // .................. eons
  let [
    muonNatform,
    haloTurnform,
    haloNatform,
    haloScene,    
  ] = await Promise.all([
    __mapper('xs').m('natform'),
    __mapper('xs').h('turnform'),
    __mapper('xs').h('natform'),
    __mapper('xs').h('scene'),    
  ])

  // .................. animas
  let ani = function () {
    // .................. pics

    let tim = {'td': 3800, 't0': 0, 't1': 1000, 't2': 1, 't3': 1}
    let geochrom = { csx: 0, cf: 777, cs: 222, cw: 1.7, co: 0.7, cp: 0.5}
    let geofold = {type: 'Feature', geometry: { type: 'Point', coordinates: [0, 0]}, properties: {pointRadius: 6}}

    let translate = {
      'm1': 4, 'm2': 4, 'n1': 2, 'n2': 2, 'n3': 2, 'a': 1, 'b': 1, // circle
      'ra2': 60, 'v0': 0, 'v1': 1, 'w4': 90, 'seg5': 360, 'pa6': 0, 'pb7': -1,
    }
    let proform = {projection: 'uniwen', scale: 1, translate: [ 0, 100 - 200 ], rotate: [ 0, 0 ],
      control: 'wen'}

    let f1 = {
      'm1': 4, 'm2': 4, 'n1': 100, 'n2': 100, 'n3': 100, 'a': 1, 'b': 1, // square
      'ra2': 60, 'v0': 0, 'v1': 1, 'seg5': 360, 'w4': 0, 'pa6': 0, 'pb7': 360,
    }
    let f2 = {
      'm1': 6, 'm2': 6, 'n1': 1000, 'n2': 400, 'n3': 400, 'a': 1, 'b': 1, // hexagon
      'ra2': 60, 'v0': 0, 'v1': 1, 'seg5': 360, 'w4': 0, 'pa6': 0, 'pb7': 360,
    }
    let f3 = {
      'm1': 6, 'm2': 6, 'n1': 2, 'n2': 7, 'n3': 7, 'a': 1, 'b': 1, // star
      'ra2': 60, 'v0': 0, 'v1': 1, 'seg5': 360, 'w4': 0, 'pa6': 0, 'pb7': 360,
    }
    let f4 = {
      'm1': 5, 'm2': 5, 'n1': 1000, 'n2': 600, 'n3': 600, 'a': 1, 'b': 1, // pentagon
      'ra2': 60, 'v0': 0, 'v1': 1, 'seg5': 360, 'w4': 0, 'pa6': 0, 'pb7': 360,
    }
    let f5 = {
      'm1': 5, 'm2': 5, 'n1': 2, 'n2': 7, 'n3': 7, 'a': 1, 'b': 1, // star
      'ra2': 60, 'v0': 0, 'v1': 1, 'seg5': 360, 'w4': 0, 'pa6': 0, 'pb7': 360,
    }
    let f6 = {
      'm1': 4, 'm2': 4, 'n1': 2, 'n2': 2, 'n3': 2, 'a': 1, 'b': 1, // circle
      'ra2': 60, 'v0': 0, 'v1': 1, 'seg5': 360, 'w4': 0, 'pa6': 0, 'pb7': 360,
    }
    let f7 = {
      'm1': 3, 'm2': 3, 'n1': 1, 'n2': 1, 'n3': 1, 'a': 1, 'b': 1, // tri
      'ra2': 60, 'v0': 0, 'v1': 1, 'seg5': 360, 'w4': 0, 'pa6': 0, 'pb7': 360,
    }
    let f8 = {
      'm1': 3.93, 'm2': 3.93, 'n1': 2, 'n2': 2, 'n3': 1, 'a': 2.5, 'b': 1, // ellipse eye
      'ra2': 60, 'v0': 0, 'v1': 1, 'seg5': 360, 'w4': 0, 'pa6': 0, 'pb7': 360,
    }

    /*******************************************
 *    @animas
 */
    let p1 = {
      halo: 'turnform',
        geofold: p => muonNatform.natFeature(f1),
        geochrom,
        ric: {'gid': 'p', 'cid': 'p', 'fid': 'p1'},
        geodrift: {
          proform: {projection: 'uniwen', scale: 1, rotate: [ 0, 0, 0 ], translate: [150 - 300, 100 - 200, 0] }
        },
      payload: {tim,
      },
    },
    let p2 = {
      halo: 'turnform',
        tim,
        geofold: p => muonNatform.natFeature(f2),
        geochrom,
        ric: {'gid': 'p', 'cid': 'p', 'fid': 'p2'},
        geodrift: {        
          proform: {projection: 'uniwen', scale: 1, rotate: [ 0, 0, 0 ], translate: [250 - 300, 100 - 200, 0] }
        },
      payload: {
      },
    },
    let p3 = {
      halo: 'turnform',
        tim,
        geofold: p => muonNatform.natFeature(f3),
        geochrom,
        ric: {'gid': 'p', 'cid': 'p', 'fid': 'p3'},
        geodrift: {        
          proform: {projection: 'uniwen', scale: 1, rotate: [ 0, 0, 0 ], translate: [350 - 300, 100 - 200, 0] }
        },
      payload: {
      },
    },
    let p4 = {
      halo: 'turnform',
        tim,
        geofold: p => muonNatform.natFeature(f4),
        geochrom,
        ric: {'gid': 'p', 'cid': 'p', 'fid': 'p4'},
        geodrift: {        
          proform: {projection: 'uniwen', scale: 1, rotate: [ 0, 0, 0 ], translate: [450 - 300, 100 - 200, 0] }
        },
      payload: {
      },
    },
    let p5 = {
      halo: 'turnform',
        tim,
        geofold: p => muonNatform.natFeature(f5),
        geochrom,
        ric: {'gid': 'p', 'cid': 'p', 'fid': 'p5'},
        geodrift: {        
          proform: {projection: 'uniwen', scale: 1, rotate: [ 0, 0, 0 ], translate: [150 - 300, 300 - 200, 0] }
        },
      payload: {
      },
    },
    let p6 = {
      halo: 'turnform',
        tim,
        geofold: p => muonNatform.natFeature(f6),
        geochrom,
        ric: {'gid': 'p', 'cid': 'p', 'fid': 'p6'},
        geodrift: {        
          proform: {projection: 'uniwen', scale: 1, rotate: [ 0, 0, 0 ], translate: [250 - 300, 300 - 200, 0] }
        },
      payload: {
      },
    },
    let p7 = {
      halo: 'turnform',
        tim,
        geofold: p => muonNatform.natFeature(f7),
        geochrom,
        ric: {'gid': 'p', 'cid': 'p', 'fid': 'p7'},
        geodrift: {        
          proform: {projection: 'uniwen', scale: 1, rotate: [ 0, 0, 0 ], translate: [350 - 300, 300 - 200, 0] }
        },
      payload: {
      },
    },
    let p8 = {
      halo: 'turnform',
        tim,
        geofold: p => muonNatform.natFeature(f8),
        geochrom,
        ric: {'gid': 'p', 'cid': 'p', 'fid': 'p8'},
        geodrift: {        
          proform: {projection: 'uniwen', scale: 1, rotate: [ 0, 0, 0 ], translate: [450 - 300, 300 - 200, 0] }
        },
      payload: {
      },
    },

    // .................. sceneAni
    let sceneAni = {

      halo: 'scene',
        geofold: null,
        tim: tim,
        ric: {gid: 'scene', cid: 'scene', fid: 'scene'},
      payload: {
        context: {svg: 1, versor: 0, wen: 1, webgl: 0, bck: 1},
      },

    }
    let animas = [
      p1, // h.turnform g.uniwen
      p2, // h.turnform g.uniwen
      p3, // h.turnform g.uniwen
      p4, // h.turnform g.uniwen
      p5, // h.turnform g.uniwen
      p6, // h.turnform g.uniwen
      p7, // h.turnform g.uniwen
      p8, // h.turnform g.uniwen

      sceneAni, // h.scene

    ]

    return animas
  }

  let enty = () => {}
  enty.ani = ani
  return enty
}
</script>