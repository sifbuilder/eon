<!DOCTYPE html>
<meta charset="utf-8">
<title>animas</title>
<head >

  <style>
    body { margin:0;position:fixed;top:0;right:0;bottom:0;left:0; }
    div#fps,svg { position: fixed; top:0; left:0; color: white; }
  </style>

</head>
<body style="cursor:crosshair"></body>
<div id="viewframe" class="viewframe"></div>

<script src="script-enls.js"></script>
<script src="script-ents.js"></script>

<script>

let muonAlima = function muonAlima (__mapper) {
  __mapper({'xs': xs.xs(__mapper)}) // PROXIES
  __mapper('xs').m('init')({svg: 1, versor: 1, webgl: 1, img: 0}) // INIT

  let f = __mapper({'props': muonProps.muonProps()}).props(),
    msnap = __mapper('xs').m('snap'),
    mlacer = __mapper('xs').m('lacer'),
    mnat = __mapper('xs').m('nat')

  /*******************************************
 *      @pics
 */
  let tim = {'td': 3800, 't0': 0, 't1': 1000, 't2': 1, 't3': 1}
  let boform = { csx: 0, cf: 777, cs: 222, cw: 1.7, co: 0.7, cp: 0.5}
  let geofold = {type: 'Feature', geometry: { type: 'Point', coordinates: [0, 0]}, properties: {pointRadius: 6}}

  let translate = {
    'm1': 4,'m2': 4,'n1': 2,'n2': 2,'n3': 2,'a': 1,'b': 1, // circle
    'ra2': 60,'v0': 0,'v1': 1,'w4': 90,'seg5': 360,'pa6': 0,'pb7': -1,
    }
  let proform = {projection: 'uniwen', scale: 1, translate: [ 0, 100 - 200 ], rotate: [ 0, 0 ],
        control: 'wen'}

  let f1 = {
    'm1': 4,'m2': 4,'n1': 100,'n2': 100,'n3': 100,'a': 1,'b': 1, // square
    'ra2': 60,'v0': 0,'v1': 1,'seg5': 360,'w4': 0,'pa6': 0,'pb7': 360
  }
  let f2 = {
    'm1': 6,'m2': 6,'n1': 1000,'n2': 400,'n3': 400,'a': 1,'b': 1, // hexagon
    'ra2': 60,'v0': 0,'v1': 1,'seg5': 360,'w4': 0,'pa6': 0,'pb7': 360
  }
  let f3 = {
    'm1': 6,'m2': 6,'n1': 2,'n2': 7,'n3': 7,'a': 1,'b': 1,	// star
    'ra2': 60,'v0': 0,'v1': 1,'seg5': 360,'w4': 0,'pa6': 0,'pb7': 360
  }
  let f4 = {
    'm1': 5,'m2': 5,'n1': 1000,'n2': 600,'n3': 600,'a': 1,'b': 1, // pentagon
    'ra2': 60,'v0': 0,'v1': 1,'seg5': 360,'w4': 0,'pa6': 0,'pb7': 360
  }
  let f5 = {
    'm1': 5,'m2': 5,'n1': 2,'n2': 7,'n3': 7,'a': 1,'b': 1,	// star
    'ra2': 60,'v0': 0,'v1': 1,'seg5': 360,'w4': 0,'pa6': 0,'pb7': 360
  }
  let f6 = {
      'm1': 4,'m2': 4,'n1': 2,'n2': 2,'n3': 2,'a': 1,'b': 1, // circle
    'ra2': 60,'v0': 0,'v1': 1,'seg5': 360,'w4': 0,'pa6': 0,'pb7': 360
  }
  let f7 = {
    'm1': 3,'m2': 3,'n1': 1,'n2': 1,'n3': 1,'a': 1,'b': 1, // tri
    'ra2': 60,'v0': 0,'v1': 1,'seg5': 360,'w4': 0,'pa6': 0,'pb7': 360
  }
  let f8 = {
    'm1': 3.93,'m2': 3.93,'n1': 2,'n2': 2,'n3': 1,'a': 2.5,'b': 1, // ellipse eye
    'ra2': 60,'v0': 0,'v1': 1,'seg5': 360,'w4': 0,'pa6': 0,'pb7': 360
  }

  /*******************************************
 *    @animas
 */
  let p1 = {
    halo: 'ent',
    geofold: p => mnat.natFeature(f1),
    payload: {tim,
      boform,
      ric: {'gid': 'p', 'cid': 'p', 'fid': 'p1'},
      proform: {projection: 'uniwen', scale: 1, rotate: [ 0, 0, 0 ], translate: [150 - 300, 100 - 200, 0],
        control: 'wen' }}
  }
  let p2 = {
    halo: 'ent',
    geofold: p => mnat.natFeature(f2),
    payload: {tim,
      boform,
      ric: {'gid': 'p', 'cid': 'p', 'fid': 'p2'},
      proform: {projection: 'uniwen', scale: 1, rotate: [ 0, 0, 0 ], translate: [250 - 300, 100 - 200, 0],
        control: 'wen' }}
  }
  let p3 = {
    halo: 'ent',
    geofold: p => mnat.natFeature(f3),
    payload: {tim,
      boform,
      ric: {'gid': 'p', 'cid': 'p', 'fid': 'p3'},
      proform: {projection: 'uniwen', scale: 1, rotate: [ 0, 0, 0 ], translate: [350 - 300, 100 - 200, 0],
        control: 'wen' }}
  }
  let p4 = {
    halo: 'ent',
    geofold: p => mnat.natFeature(f4),
    payload: {tim,
      boform,
      ric: {'gid': 'p', 'cid': 'p', 'fid': 'p4'},
      proform: {projection: 'uniwen', scale: 1, rotate: [ 0, 0, 0 ], translate: [450 - 300, 100 - 200, 0],
        control: 'wen' }}
  }
  let p5 = {
    halo: 'ent',
    geofold: p => mnat.natFeature(f5),
    payload: {tim,
      boform,
      ric: {'gid': 'p', 'cid': 'p', 'fid': 'p5'},
      proform: {projection: 'uniwen', scale: 1, rotate: [ 0, 0, 0 ], translate: [150 - 300, 300 - 200, 0],
        control: 'wen' }}
  }
  let p6 = {
    halo: 'ent',
    geofold: p => mnat.natFeature(f6),
    payload: {tim,
      boform,
      ric: {'gid': 'p', 'cid': 'p', 'fid': 'p6'},
      proform: {projection: 'uniwen', scale: 1, rotate: [ 0, 0, 0 ], translate: [250 - 300, 300 - 200, 0],
        control: 'wen' }}
  }
  let p7 = {
    halo: 'ent',
    geofold: p => mnat.natFeature(f7),
    payload: {tim,
      boform,
      ric: {'gid': 'p', 'cid': 'p', 'fid': 'p7'},
      proform: {projection: 'uniwen', scale: 1, rotate: [ 0, 0, 0 ], translate: [350 - 300, 300 - 200, 0],
        control: 'wen' }}
  }
  let p8 = {
    halo: 'ent',
    geofold: p => mnat.natFeature(f8),
    payload: {tim,
      boform,
      ric: {'gid': 'p', 'cid': 'p', 'fid': 'p8'},
      proform: {projection: 'uniwen', scale: 1, rotate: [ 0, 0, 0 ], translate: [450 - 300, 300 - 200, 0],
        control: 'wen' }}
  }

  let animas = [
    p1, // h.ent g.uniwen
    p2, // h.ent g.uniwen
    p3, // h.ent g.uniwen
    p4, // h.ent g.uniwen
    p5, // h.ent g.uniwen
    p6, // h.ent g.uniwen
    p7, // h.ent g.uniwen
    p8 // h.ent g.uniwen

  ]

  return () => __mapper('xs').m('store').apply({'type': 'UPDANIMA', 'caller': 'alima', 'animas': animas})
}

let __mapper = muonMapper.muonMapper()
__mapper({'muonAlima': muonAlima(__mapper)}).muonAlima(__mapper)
</script>
<body style="cursor:crosshair"></body>
