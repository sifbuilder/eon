<!DOCTYPE html>
<meta charset="utf-8">
<title>animas</title>
<head >

  <style>
    body { margin:0;position:fixed;top:0;right:0;bottom:0;left:0; }
    div#fps,svg { position: fixed; top:0; left:0; color: white; }
  </style>

</head>
<body style="cursor:crosshair"></body>
<div id="viewframe" class="viewframe"></div>

<script src="script-enls.js"></script>
<script src="script-ents.js"></script>

<script>

let muonAlima = function muonAlima (__mapper) {
  __mapper({'xs': xs.xs(__mapper)}) // PROXIES
  __mapper('xs').m('init')({svg: 1, versor: 1, webgl: 1, bck: 0, pos:0}) // INIT

  let f = __mapper('xs').m('props')

  /*******************************************
 *      @pics
 */
  let tim = {'td': 3800, 't0': 0, 't1': 1000, 't2': 1, 't3': 1}

  /*******************************************
 *    @animas
 */
  let geopoint = {

    halo: 'ent',

    geofold: d => ({
      type: 'Feature',
      geometry: {
        type: 'Point',
        coordinates: Complex({re:0,im:0})
          .add(
            d.payload.zenform[0] * Math.cos(d.payload.zenform[1]),
            d.payload.zenform[0] * Math.sin(d.payload.zenform[1])
          )
          .toVector()
      },
      properties: {
         pointRadius: 6,
         geonode: {
          type: 'Feature',
          geometry: { 
            type: 'Point', 
            coordinates: [0, 0] 
          },
          properties: {
            orgen: [0, 0], 
            velin: [0, 0], 
            velang: [0, 0], 
            prevous: [0, 0], 
            geodelta: [0, 0]
          }
        },
      }
    }),

    payload: {
      tim: tim,
      ric: {'gid': 'geopoint', 'cid': 'geopoint', 'fid': 'geopoint'},
      boform: { 'csx': 0, 'cf': 666, 'cs': 222, 'cw': 1.7, 'co': 0.7, 'cp': 0.5},
      
      zenform: [ [[[0,100]]], [[[0,Math.PI]]] ],
      
      proform: {

        projection: 'uniwen',
        scale: 1,
        translate: [ 0, 0 ],
        rotate: [ 0, 0 ],

      }
    }
  }

  let animas = [
    geopoint // h.ent g.uniwen
  ]

  return () => __mapper('xs').m('store').apply({'type': 'UPDANIMA', 'caller': 'alima', 'animas': animas})
}

let __mapper = muonMapper.muonMapper()
__mapper({'muonAlima': muonAlima(__mapper)}).muonAlima(__mapper)
</script>
<body style="cursor:crosshair"></body>
